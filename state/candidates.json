{
  "active_edge": "Cycle 29: Complete shifted_element_valuation_le_one and residue field bridge",
  "cycle_28_results": {
    "goal": "Fix partialResidueMap linearity proofs",
    "status": "COMPLETE",
    "proved_count": 3,
    "sorry_count": 0,
    "candidates": [
      {
        "name": "partialResidueMap_zero",
        "type": "PROVE",
        "status": "PROVED",
        "score": "5/5",
        "notes": "Uses map_zero after unfold partialResidueMap"
      },
      {
        "name": "partialResidueMap_add",
        "type": "PROVE",
        "status": "PROVED",
        "score": "5/5",
        "notes": "Definitional via rfl - SubringClass addition is componentwise"
      },
      {
        "name": "partialResidueMap_smul",
        "type": "PROVE",
        "status": "PROVED",
        "score": "5/5",
        "notes": "Definitional via rfl - SubringClass multiplication is componentwise"
      }
    ],
    "key_insight": "In SubringClass, subtype operations (addition, multiplication) are definitional equalities. Proofs simplify to rfl after unfolding definitions."
  },
  "cycle_29_plan": {
    "goal": "Complete evaluation map construction",
    "tasks": [
      "Fix shifted_element_valuation_le_one using WithZero.exp arithmetic",
      "Investigate residue field bridge: valuationRingAt.residueField ≃ residueFieldAtPrime",
      "Construct evaluationMapAt using partialResidueMap infrastructure",
      "Prove kernel_evaluationMapAt"
    ],
    "approach": "Use WithZero.exp case analysis for shifted valuation, then compose partialResidueMap with field bridge",
    "key_lemmas_available": [
      "partialResidueMap_zero/add/smul (PROVED)",
      "withzero_exp_le_exp (simp wrapper)",
      "withzero_exp_mul_le_one (helper)",
      "local_gap_bound_of_exists_map (PROVED)"
    ]
  },
  "architecture": {
    "hierarchy": [
      "LocalGapBound R K          -- TARGET: needs evaluationMapAt",
      "    ↑ extends",
      "SinglePointBound R K       -- PROJECTIVE (adds ell_zero = 1)",
      "",
      "BaseDim R K                -- SEPARATE (explicit base dimension)"
    ],
    "key_bridge": "local_gap_bound_of_exists_map connects evaluation map to typeclass"
  },
  "remaining_sorries": {
    "active": [
      {
        "name": "shifted_element_valuation_le_one",
        "line": 989,
        "status": "ACTIVE",
        "notes": "WithZero.exp arithmetic - proof path clear"
      },
      {
        "name": "evaluationMapAt",
        "line": 1029,
        "status": "BLOCKER",
        "notes": "Needs residue field bridge"
      },
      {
        "name": "kernel_evaluationMapAt",
        "line": 1040,
        "status": "BLOCKED",
        "notes": "Depends on evaluationMapAt"
      },
      {
        "name": "instLocalGapBound",
        "line": 1049,
        "status": "BLOCKED",
        "notes": "Depends on kernel proof"
      }
    ],
    "deprecated": [
      {
        "name": "ellV2_mono",
        "line": 337,
        "notes": "Superseded by ellV2_real_mono"
      },
      {
        "name": "riemann_inequality",
        "line": 715,
        "notes": "Superseded by riemann_inequality_real"
      }
    ]
  }
}
